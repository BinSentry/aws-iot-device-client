<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE node PUBLIC "-//freedesktop//DTD D-BUS Object Introspection 1.0//EN" "http://www.freedesktop.org/standards/dbus/1.0/introspect.dtd">
<node>
    <interface name="org.binsentry.CommercialBin.S3PresignedURL.SensorReading">

        <!--
          @brief Request a S3 pre-signed URL for upload of BinSentry Commercial Bin HDF5 sensor reading
          @param [in] RequestId - ID used to identify response
          @param [out] ReturnCode - synchronous return code indicating request has been accepted or rejected
        -->
        <method name="RequestS3PreSignedURL">
            <arg name="RequestId" type="q" direction="in" />
            <arg name="ReturnCode" type="i" direction="out" />
        </method>

        <!--
          @brief return an S3 pre-signed URL for upload of BinSentry Commercial Bin HDF5 sensor reading
          @param RequestId - the request ID corresponding to the request
          @param ReturnCode - asynchronous return code indicating success or failure reason
          @param ResponseJSONString - JSON response string containing pre-signed URL and other related fields
        -->
        <signal name="S3PreSignedURLResponse">
            <arg name="RequestId" type="q" />
            <arg name="ReturnCode" type="i" />
            <arg name="ResponseJSONString" type="s" />
        </signal>

        <!--
          @brief The MQTT topic version used to obtain the pre-signed URL
        -->
        <property name="Version" type="q" access="read"/>

    </interface>
</node>
